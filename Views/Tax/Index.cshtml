@model IEnumerable<MVCCalculateTax.DAL.UserTaxItem>
@using (Html.BeginForm("Index", "Tax", FormMethod.Post))
{

    <h4>Calculate Tax</h4>
    <hr />
    <div class="row">
        <div class="col-md-4">
            <form>
                <div class="form-group">

                    <label class="control-label">Enter AnnualIncome</label>
                    <input name="annualIncome" type="number" class="form-control" />
                    <br />
                </div>
                <div class="form-group">
                    <label class="control-label">Select Postal Code</label>
                </div>
                <div class="form-group">
                    @Html.DropDownList("postalCodeID", new SelectList(ViewBag.ListPostalCodes, "postalCodeID", "postalCode"), htmlAttributes: new { @class = "form-control" })

                </div>
                <div class="form-group">
                    <br />
                    <input type="submit" value="Calculate" class="btn btn-primary" />

                </div>

                <div class="form-group">
                    @Html.Label( "" ,(string)ViewBag.AlertMsg,htmlAttributes: new { @class="text-danger" })
                </div>
            </form>
        </div>
    </div>

}


<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.PostalCode)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TaxType)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.AnnualIncome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TaxAmount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DateCreated)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.PostalCode)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TaxType)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AnnualIncome)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TaxAmount)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DateCreated)
                </td>
                <td>

                    @Html.ActionLink("Delete", "Delete", new { id = item.UserTaxID })
                </td>
            </tr>
        }
    </tbody>
</table>


@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
